From d6b9f1924adaed57b6b91a2dbd78eee7b11b0f48 Mon Sep 17 00:00:00 2001
From: Paul Zander <negril.nx+gentoo@gmail.com>
Date: Fri, 22 Aug 2025 14:24:09 +0200
Subject: [PATCH 1/2] drop test_requires

Unknown distribution option: 'test_requires'

Signed-off-by: Paul Zander <negril.nx+gentoo@gmail.com>

diff --git a/setup.py b/setup.py
index a15ef2b..6c97dd2 100644
--- a/setup.py
+++ b/setup.py
@@ -216,9 +216,6 @@ def main():
             "platformdirs>=2.2.0",
             "mako",
         ],
-        test_requires=[
-            "pytest>=2",
-        ],
         ext_package="pycuda",
         ext_modules=[
             ExtensionUsingNumpy(
-- 
2.51.0


From 84ddca4745eff3787889e730703254baa8844a9f Mon Sep 17 00:00:00 2001
From: Paul Zander <negril.nx+gentoo@gmail.com>
Date: Fri, 22 Aug 2025 14:24:35 +0200
Subject: [PATCH 2/2] add pycuda.cuda to packages

_Warning: Package 'pycuda.cuda' is absent from the `packages` configuration.

Signed-off-by: Paul Zander <negril.nx+gentoo@gmail.com>

diff --git a/setup.py b/setup.py
index 6c97dd2..2904eae 100644
--- a/setup.py
+++ b/setup.py
@@ -209,7 +209,7 @@ def main():
             "Topic :: Scientific/Engineering :: Visualization",
         ],
         # build info
-        packages=["pycuda", "pycuda.gl", "pycuda.sparse", "pycuda.compyte"],
+        packages=["pycuda", "pycuda.cuda", "pycuda.gl", "pycuda.sparse", "pycuda.compyte"],
         python_requires="~=3.8",
         install_requires=[
             "pytools>=2011.2",
-- 
2.51.0

